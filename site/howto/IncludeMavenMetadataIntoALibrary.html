<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Oct 10, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Creation-yyyymmdd" content="20121126" />
    <meta name="Date-Revision-yyyymmdd" content="20131010" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Xcode Maven Plugin - Usage</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Xcode Maven Plugin</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2013-10-10</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.13.0</li>
                      
                
            
      
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
            
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                                
      <li>
    
                          <a href="../index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="../plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                  
      <li>
    
                          <a href="../usage.html" title="Usage">
          <i class="none"></i>
        Usage</a>
            </li>
                  
      <li>
    
                          <a href="../faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                  
      <li>
    
                          <a href="../release-notes.html" title="Release Notes">
          <i class="none"></i>
        Release Notes</a>
            </li>
                              <li class="nav-header">User Guide</li>
                                
      <li>
    
                          <a href="../userguide/Project Structure.html" title="Project Structure">
          <i class="none"></i>
        Project Structure</a>
            </li>
                  
      <li>
    
                          <a href="../userguide/Advanced Project Structure - Modules.html" title="Advanced Project Structure - Modules">
          <i class="none"></i>
        Advanced Project Structure - Modules</a>
            </li>
                  
      <li>
    
                          <a href="../userguide/Project Pom.html" title="Project Pom">
          <i class="none"></i>
        Project Pom</a>
            </li>
                  
      <li>
    
                          <a href="../userguide/Version information.html" title="Version information">
          <i class="none"></i>
        Version information</a>
            </li>
                                                                                
      <li>
    
                          <a href="../examples/AppBuildExample.html" title="Apps">
          <i class="icon-chevron-down"></i>
        Apps</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../userguide/Packaging the Xcode project with its resolved dependencies.html" title="Packaging the Xcode project with its resolved dependencies">
          <i class="none"></i>
        Packaging the Xcode project with its resolved dependencies</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Xcode Applications Artifacts Structure.html" title="Xcode Applications Artifacts Structure">
          <i class="none"></i>
        Xcode Applications Artifacts Structure</a>
            </li>
              </ul>
        </li>
                                                                                                                    
      <li>
    
                          <a href="../examples/LibBuildExample.html" title="Libraries">
          <i class="icon-chevron-down"></i>
        Libraries</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../userguide/Fat Binaries.html" title="Fat Binaries">
          <i class="none"></i>
        Fat Binaries</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Generation and Consumption Libraries with Bundles.html" title="Generation and Consumption Libraries with Bundles">
          <i class="none"></i>
        Generation and Consumption Libraries with Bundles</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Generation of API Docs with Doxygen.html" title="Generation of API Docs with Doxygen">
          <i class="none"></i>
        Generation of API Docs with Doxygen</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Xcode Libraries Artifacts Structure.html" title="Xcode Libraries Artifacts Structure">
          <i class="none"></i>
        Xcode Libraries Artifacts Structure</a>
            </li>
              </ul>
        </li>
                  
      <li>
    
                          <a href="../examples/FmwkBuildExample.html" title="Static Xcode Frameworks">
          <i class="none"></i>
        Static Xcode Frameworks</a>
            </li>
                                                                                                  
      <li>
    
                          <a href="../userguide/Dependencies.html" title="Dependency Management">
          <i class="icon-chevron-down"></i>
        Dependency Management</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../userguide/Consumption of Libraries.html" target="_self" title="Consumption of Libraries">
          <i class="none"></i>
        Consumption of Libraries</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Consumption of Frameworks.html" title="Consumption of Frameworks">
          <i class="none"></i>
        Consumption of Frameworks</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Workspace.html" title="Develop Multiple Dependent Xcode Projects">
          <i class="none"></i>
        Develop Multiple Dependent Xcode Projects</a>
            </li>
              </ul>
        </li>
                              <li class="nav-header">How to</li>
                                
      <li class="active">
    
            <a href="#"><i class="none"></i>How to include maven metadata into a library</a>
          </li>
                  
      <li>
    
                          <a href="../howto/UseGenericZipBundles.html" title="How to use generic ZIP bundles">
          <i class="none"></i>
        How to use generic ZIP bundles</a>
            </li>
                  
      <li>
    
                          <a href="../howto/HandlingAmbiguousDeveloperIdentities.html" title="How to handle ambiguous developer identities">
          <i class="none"></i>
        How to handle ambiguous developer identities</a>
            </li>
                  
      <li>
    
                          <a href="../howto/BuildCordovaHelloWorldExample.html" title="How to build the Cordova HelloWorld project">
          <i class="none"></i>
        How to build the Cordova HelloWorld project</a>
            </li>
                  
      <li>
    
                          <a href="../howto/EnableOTADeployment.html" title="How to enable Over-The-Air Deployment">
          <i class="none"></i>
        How to enable Over-The-Air Deployment</a>
            </li>
                  
      <li>
    
                          <a href="../howto/HandlingKeychainsInMasterSlaveEnvironment.html" title="How to handle Keychains in a master/slave environment">
          <i class="none"></i>
        How to handle Keychains in a master/slave environment</a>
            </li>
                  
      <li>
    
                          <a href="../howto/BuildAggregatedFrameworks.html" title="How to build aggregated frameworks">
          <i class="none"></i>
        How to build aggregated frameworks</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                          
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                              
      <li>
    
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
            
                
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="https://github.com/sap-production/xcode-maven-plugin/xcode-maven-plugin" data-size="tall" ></div>

                   <div class="clear"></div>
                   
        
        
        
    <iframe src="http://www.facebook.com/plugins/like.php?href=https://github.com/sap-production/xcode-maven-plugin/xcode-maven-plugin&send=false&layout=box_count&show-faces=false&action=like&colorscheme=light"
        scrolling="no" frameborder="0"
        style="border:none; width:48px; height:63px; margin-top: 10px;" ></iframe>
               <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span10" >
                                  
            <!-- ~ --><!-- #%L --><!-- xcode-maven-plugin --><!-- %% --><!-- Copyright (C) 2012 SAP AG --><!-- %% --><!-- Licensed under the Apache License, Version 2.0 (the "License"); --><!-- you may not use this file except in compliance with the License. --><!-- You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><!-- #L% --><!-- ~ --><div class="section"><h2>How to include Maven metadata into a library<a name="How_to_include_Maven_metadata_into_a_library"></a></h2><div class="section"><h3>Purpose of this page<a name="Purpose_of_this_page"></a></h3><p>Sometimes it is helpful to include maven metadata into a library so that those metadata can be accessed on coding level. E.g. it might be desirable to have the maven GAV or the changelist with that a library was built available in order to write those data into a log. This page explains what need to be done in order to get maven metadata available for a project on coding level.</p></div><div class="section"><h3>The big picture<a name="The_big_picture"></a></h3><p>In order to provide meta data on source code level an additional header file containing some <tt>#define</tt>s can be provided. For each meta data property one define needs to be defined. This header file needs to be provided to the project. Since the file is generated and should not be modified the recommanded location for that file is not directly inside the project but inside the header search path of the project.</p><p>The value of the define statement is a <tt>NSString</tt> containing a placeholder. That placeholder is replaced by the corresponding value at an early phase in the lifecycle when runnning maven.</p><p>An example for the scenario described on that page can be found <a href="./IncludeMavenMetadataIntoALibrary.zip">here</a></p></div><div class="section"><h3>How it works<a name="How_it_works"></a></h3><p>The <a class="externalLink" href="http://maven.apache.org/plugins/maven-resources-plugin/">maven-resource-plugin</a> can be used for filtering resources. With this plugin we are able to replace placeholders by appropriate values. The template for the header file can be provided at a suitable location, e.g. according the the maven file system layout under <tt>src/resources/Metadata.h</tt>:</p><div class="source"><pre class="prettyprint">//
//  Metadata.h
//


#define GROUP_ID @&quot;${project.groupId}&quot;
#define ARTIFACT_ID @&quot;${project.artifactId}&quot;
#define VERSION @&quot;${project.version}&quot;
#define CHANGELIST @&quot;${changelist}&quot;</pre></div><p>For more information about the parameters that can be filtered see <a class="externalLink" href="http://docs.codehaus.org/display/MAVENUSER/MavenPropertiesGuide">here</a>.</p><p>With the following pom snippets that file gets filtered. The result needs to be provided inside a folder that is on the header search path of the xcode project. Since the xcode project is copied into <tt>${project.build.directory}/checkout</tt> before the xcode build is executed the metadata header file should be located inside <tt>${project.build.diretory}/xcode-deps</tt>. This folder is copied together with the xcode sources so that the relative pathes from the xcode sources into the xcode-deps folder are preserbed. The metadata header file can e.g. be located under <tt>${project.build.directory}/xcode-deps/private/headers</tt>.</p><div class="section"><h4>Define what should be filtered<a name="Define_what_should_be_filtered"></a></h4><p>The files that should be filtered are defined in a filter section. The root directory for that the filtering is applied is denoted by <tt>directory</tt>. The root directory is relative to the project directory. The files that are filtered are defined by the include section. The folder structure below the root directory is preserved. For the details regarding the syntax of the includes see <a class="externalLink" href="http://maven.apache.org/plugins/maven-resources-plugin/examples/include-exclude.html">here</a>. The filtering is only executed if the <tt>filtering</tt> tag provided with value <tt>true</tt>.</p><div class="source"><pre class="prettyprint">&lt;build&gt;
...
  &lt;resources&gt;
    &lt;resource&gt;
      &lt;directory&gt;src/resources/&lt;/directory&gt;
      &lt;includes&gt;
        &lt;include&gt;Metadata.h&lt;/include&gt;
      &lt;/includes&gt;
      &lt;filtering&gt;true&lt;/filtering&gt;
    &lt;/resource&gt;
  &lt;/resources&gt;
...
&lt;/build&gt;</pre></div></div><div class="section"><h4>Configure the maven-resoure-plugin<a name="Configure_the_maven-resoure-plugin"></a></h4><div class="section"><h5>Define the maven-resource-plugin.<a name="Define_the_maven-resource-plugin."></a></h5><p>The maven-resource-plugin is defined by its GAV</p><div class="source"><pre class="prettyprint">&lt;build&gt;
...
  &lt;plugins&gt;
   ...
    &lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.6&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;id&gt;MY_ID&lt;/id&gt;
      ...
      &lt;/execution&gt;
    &lt;/executions&gt;</pre></div></div><div class="section"><h5>Bind the filter goal to a lifecycle phase.<a name="Bind_the_filter_goal_to_a_lifecycle_phase."></a></h5><p>The filtering needs to be activated by binding the filter goal to a lifecycle phase. In order to get the header file containing the maven metadata at an early point in the lifecyle it is recommanded to bind to the <tt>initialize</tt> phase. The goal that needs to be bound is <tt>resources</tt>.</p><div class="source"><pre class="prettyprint">    &lt;execution&gt;
      &lt;id&gt;MY_ID&lt;/id&gt;
      &lt;phase&gt;initialize&lt;/phase&gt;
      &lt;goals&gt;
        &lt;goal&gt;resources&lt;/goal&gt;
      &lt;/goals&gt;
      &lt;configuration&gt;
       ...
      &lt;/configuration&gt;
    &lt;/execution&gt;
    ...</pre></div></div><div class="section"><h5>Define the output folder for the maven-resource-plugin.<a name="Define_the_output_folder_for_the_maven-resource-plugin."></a></h5><p>The output folder for the filtering must point to a folder located on the header search path of the xcode project.</p><div class="source"><pre class="prettyprint">      &lt;configuration&gt;
        ...
        &lt;outputDirectory&gt;$\{project.build.directory\}/xcode-deps/private/headers&lt;/outputDirectory&gt;
        ...
      &lt;/configuration&gt;</pre></div></div><div class="section"><h5>Define the delimiter<a name="Define_the_delimiter"></a></h5><p>By default the delimiters are: The asterix is not suitable for our purpose since the NSString is created with <tt>@&quot;&quot;</tt>. Hence we have to disable the default delimiters. Additionally we have to provide the <tt>${*}</tt> delimiter.</p><div class="source"><pre class="prettyprint">      &lt;configuration&gt;
        ...
        &lt;useDefaultDelimiters&gt;false&lt;/useDefaultDelimiters&gt;
        &lt;delimiters&gt;
          &lt;delimiter&gt;${*}&lt;/delimiter&gt;
        &lt;/delimiters&gt;
        ...
      &lt;/configuration&gt;</pre></div></div></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2012-2013
                      SAP AG.
            All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
